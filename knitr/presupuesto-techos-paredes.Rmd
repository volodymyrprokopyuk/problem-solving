---
title: Presupuesto de techos a colocar y aislar, paredes a alisar y el mirador
author: Vlad
date: `r Sys.Date()`
abstract: >
  Especificación de trabajos a realizar para colocar y aislar los techos, alisar las
  paredes y hacer el mirador
keywords: [techos, paredes, aislamiento, alisar]
lang: es
css:
  - style/style.css
header-includes:
  - <link rel="shortcut icon" href="image/html5-favicon.png">
---

```{r document-config, include = F}
opts_chunk$set(error = F, echo = F)
```

```{r datos-techo-pared}
planta <- factor(
  c("PB", "PB", "PB", "PB", "PB", "PB",
    "PP", "PP", "PP", "PP", "PP", "PP", "PP", "PP", "PP"),
  levels = c("PB", "PP"),
  labels = c("pl_baja", "primera_pl"))
cuarto0 <- c("recibidor", "aseo", "cocina", "salón este", "salón oeste", "escalera 0")
cuarto1 <- c("distribuidor", "dormitorio principal", "mirador", "baño en suite",
             "estudio", "baño común", "dormitorio este", "dormitorio oeste", "escalera 1")
largo0 <- c(3.30, 2.15, 5.55, 3.45, 4.80, 2.25)
ancho0 <- c(1.75, 1.10, 2.40, 3.00, 4.35, 1.80)
largo1 <- c(3.60, 3.75, 3.25, 2.40, 3.15, 3.25, 3.05, 3.40, 2.35)
ancho1 <- c(1.25, 2.95, 3.10, 1.70, 2.70, 1.60, 3.00, 2.70, 1.80)
inc_techo0 <- c(T, F, F, T, T, F)
inc_techo1 <- c(T, T, F, T, T, T, T, T, T)
inc_pared0 <- c(T, F, F, T, T, T)
inc_pared1 <- c(T, T, F, F, T, F, T, T, T)
pared_alto <- 2.40
d <- tibble(
  planta = planta,
  cuarto = c(cuarto0, cuarto1),
  largo = c(largo0, largo1),
  ancho = c(ancho0, ancho1),
  inc_techo = c(inc_techo0, inc_techo1),
  inc_pared = c(inc_pared0, inc_pared1),
  area_techo = largo * ancho,
  area_pared = 2 * (largo + ancho) * pared_alto)
l <- d[d$cuarto == "distribuidor", "largo"]
a <- d[d$cuarto == "distribuidor", "ancho"]
d[d$cuarto == "distribuidor", "area_pared"] <- (l + 2 * a) * pared_alto
l <- d[d$cuarto == "escalera 1", "largo"]
a <- d[d$cuarto == "escalera 1", "ancho"]
d[d$cuarto == "escalera 1", "area_pared"] <- (l * 2 + a) * pared_alto
l <- d[d$cuarto == "recibidor", "largo"]
a <- d[d$cuarto == "recibidor", "ancho"]
d[d$cuarto == "recibidor", "area_pared"] <- (l * 2 + a) * pared_alto
l <- d[d$cuarto == "escalera 0", "largo"]
a <- d[d$cuarto == "escalera 0", "ancho"]
d[d$cuarto == "escalera 0", "area_pared"] <- (l * 2 + a) * pared_alto
l <- d[d$cuarto == "salón este", "largo"]
a <- d[d$cuarto == "salón este", "ancho"]
d[d$cuarto == "salón este", "area_pared"] <- (l + a + 3.20) * pared_alto
l <- d[d$cuarto == "salón oeste", "largo"]
a <- d[d$cuarto == "salón oeste", "ancho"]
d[d$cuarto == "salón oeste", "area_pared"] <- (l + a + 2.40) * pared_alto
# d |> gt(groupname_col = "planta", rowname_col = "cuarto")
```

## Primera planta. Techos a colocar

- Colocar el techo falso con los perfiles de chapa galvanizada de 0.6mm fijados a las
  paredes por el perímetro y anclados a las vigas de madera de la cubierta en el medio
- Situar un punto de luz en el centro del techo de cada habitación
- Poner 20cm de aislamiento en horizontal encima del techo falso colocando la lana de
  roca por el perímetro y el poliestireno estruido en el area principal
- Atornillar el pladur al techo falso y alisar el techo con la masa adecuada
- Colocar la la moldura perimentral y pintar el techo
- Instalar la trampilla (el registro) en cada habitación

```{r primera-pl-techo-colocar}
d[d$planta == "primera_pl" & d$inc_techo,
  c("planta", "cuarto", "largo", "ancho", "area_techo")] |>
  gt(groupname_col = "planta", rowname_col = "cuarto") |>
  tab_header(
    title = "Cálculo del area de techo a colocar (primera planta)",
    subtitle = "Colocar techos, poner aislamiento, adaptar alumbrado, pintar techos") |>
  summary_rows(groups = T, columns = "area_techo", fns = list(total_techo = "sum"))
```

## Mirador. Techo, paredes y suelo a colocar

- Colocar el techo falso de pladur con el aislamiento de lana de reoca y poliestireno
  estruido (mire [Primera planta. Techos a colocar])
- Instalar el punto de lus central con la conmutación (dos interruptores) y los cuatro
  enchufes
- Colocar el pladur sobre las paredes con sistema de perfiles
- Colocar el revestimiento de valdosas en el suelo

```{r mirador-techo-pared-suelo-colocar}
d[d$cuarto == "mirador",
  c("planta", "cuarto", "largo", "ancho", "area_techo", "area_pared")] |>
  gt(groupname_col = "planta", rowname_col = "cuarto") |>
  tab_header(
    title = "Cálculo del area de techo, paredes y suelo a colocar (mirador)",
    subtitle = "Colocar techo, paredes y suelo, instalar alumbrado y enchufes") |>
  summary_rows(groups = T, columns = "area_techo", fns = list(total_techo = "sum")) |>
  summary_rows(groups = T, columns = "area_pared", fns = list(total_pared = "sum")) |>
  summary_rows(groups = T, columns = "area_techo", fns = list(total_suelo = "sum"))
```

## Primera planta. Paredes a alisar

- Quitar la gota con la máquina adecuada
- Alisar las paredes con la masa adecuada
- Pintar las paredes

```{r primera-pl-pared-alisar}
d[d$planta == "primera_pl" & d$inc_pared,
  c("planta", "cuarto", "largo", "ancho", "area_pared")] |>
  gt(groupname_col = "planta", rowname_col = "cuarto") |>
  tab_header(
    title = "Cálculo del area de paredes a alisar (primera planta)",
    subtitle = "Alisar y pintar las paredes") |>
  summary_rows(groups = T, columns = "area_pared", fns = list(total_pared = "sum"))
```

## Planta baja. Techos a alisar

- Quitar la gota, alisar y pintar los techos (mire [Primera planta. Paredes a alisar])

```{r pl-baja-techo-alisar}
d[d$planta == "pl_baja" & d$inc_techo,
  c("planta", "cuarto", "largo", "ancho", "area_techo")] |>
  gt(groupname_col = "planta", rowname_col = "cuarto") |>
  tab_header(
    title = "Cálculo del area de techos a alisar (planta baja)",
    subtitle = "Alisar y pintar los techos") |>
  summary_rows(groups = T, columns = "area_techo", fns = list(total_techo = "sum"))
```

## Planta baja. Paredes a alisar

- Quitar la gota, alisar y pintar las paredes (mire [Primera planta. Paredes a alisar])

```{r pl-baja-pared-alisar}
d[d$planta == "pl_baja" & d$inc_pared,
  c("planta", "cuarto", "largo", "ancho", "area_pared")] |>
  gt(groupname_col = "planta", rowname_col = "cuarto") |>
  tab_header(
    title = "Cálculo del area de paredes a alisar (planta baja)",
    subtitle = "Alisar y pintar las paredes") |>
  summary_rows(groups = T, columns = "area_pared", fns = list(total_pared = "sum"))
```

<!--
## Presupuesto de la primera planta, el mirador y la planta baja
-->

```{r datos-presupuesto, include = F}
presupuesto <- tribble(
  ~parte, ~concepto, ~cantidad, ~precio,
  "mirador", "Aislamiento", 10, 28,
  "mirador", "Techo de cartón yeso", 10, 35,
  "mirador", "Viga de cartón yeso", 4, 30,
  "mirador", "Paredes de cartón yeso", 30, 24,
  "mirador", "Plastón de mortero", 10, 30,
  "mirador", "Pavimento suelo", 10, 50,
  "mirador", "Rodapie suelo", 12, 10,
  "mirador", "Electricidad suministro", 1, 400,
  "mirador", "Electricidad presentación", 7, 35,
  "primera_pl", "Techo de cartón yeso", 56, 35,
  "primera_pl", "Aislamiento", 56, 28,
  "primera_pl", "Alisado de paredes", 148, 14,
  "primera_pl", "Puntos de luz", 7, 60,
  "primera_pl", "Soporte de alumbrado y cortinas", 14, 25,
  "primera_pl", "Moldura de escayola", 50, 18,
  "pl_baja", "Alisado de paredes", 86, 14,
  "pl_baja", "Alisado de techos", 37, 14,
)
presupuesto |> mutate(valor = cantidad * precio) -> presupuesto
presupuesto |> gt(groupname_col = "parte", rowname_col = "concepto") |>
  tab_header(title = "Presupuesto primera planta + mirador + planta baja") |>
  summary_rows(groups = T, columns = "valor", fns = list(total = "sum")) |>
  grand_summary_rows(columns = "valor", fns = list(grand_total = "sum"))
```
